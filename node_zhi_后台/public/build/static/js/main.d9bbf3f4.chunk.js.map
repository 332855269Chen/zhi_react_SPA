{"version":3,"sources":["utils/FormatDate.js","pages/Detail.js","library/font.js","store/actions.js","assets/css/Login.module.css","layouts/Header.js","layouts/Footer.js","utils/asyncComponent.js","pages/Follow.js","pages/Column.js","pages/Login.js","pages/Reg.js","pages/ErrorPage.js","guard/Auth.js","layouts/App.js","utils/axios.js","index.js","store/types.js","store/reducer.js","store/store.js","store/state.js","layouts/Header.module.css","layouts/Footer.module.css","components/Cell/Cell.js"],"names":["now","Date","times","getFullYear","toString","getMonth","getDate","getHours","getMinutes","getSeconds","Detail","props","goback","history","go","collect","_id","ev","getCollection","column","length","setCollection","target","style","color","arr2","forEach","item","index","array","push","goodsid","indexOf","alert","removeCollection","state","detail","id","match","params","dataName","querystring","parse","location","search","getDetail","this","bb","className","position","onClick","fontSize","type","title","src","icon","alt","width","auth","picture","display","alignItems","justifyContent","time","theme","dangerouslySetInnerHTML","__html","content","marginTop","bottom","zan","cai","comNum","name","event","ref","atem","React","Component","connect","collection","ipttxt","home","dispatch","url","CHAN_COLLECTION","num","then","res","UPDATE_COLUMN","_limit","doc","win","docEl","documentElement","resizeEvt","window","recalc","clientWidth","addEventListener","document","_page","getState","axios","payload","data","authUser","save","receipt","method","module","exports","Search","Input","Header","visible","placement","ipttxt2","bl","bl2","msg5","msg3","msg4","showDrawer","setState","onClose","onChange","e","value","logout","localStorage","removeItem","store","err","getMsg4","innerHTML","changeBl","jsonp","getHome","setTimeout","fetchJsonp","jsonpCallback","jsonpCallbackFunction","timeout","json","g","arr1","val","q","catch","console","log","nav","to","activeClassName","active","placeholder","onSearch","Search2","lineHeight","marginLeft","background","border","boxShadow","closable","marginBottom","shuju_haederUl","map","key","shuju_activeli","getSearch","UPDATE_HOME","UPDATE_SEARCH","Footer","write","my","importComponent","Follow","follow","Cell","list","Column","isShowId","Login","username","password","mess","changeIpt","login","async","bLoading","request","height","CHECK_USER","setItem","JSON","stringify","Reg","reg","ErrorPage","user","component","render","rest","Home","Loadable","loader","loading","User","default","C","App","bNav","bFoot","path","exact","from","nextProps","nextState","viewNav","viewFoot","pathname","test","VIEW_NAV","VIEW_FOOT","viewLoading","VIEW_LOADING","withRouter","defaults","withCredentials","interceptors","use","config","error","Promise","reject","response","local","getItem","getElementById","UPDATE_BANNER","UPDATE_DETAIL","CHAN_IPTTXT","createStore","types","banner","applyMiddleware","thunk","Panel","Collapse","arguments","borderBottom","padding","bordered","expandIconPosition","header","des","defaultProps","viewIpttxt"],"mappings":"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","file":"static/js/main.d9bbf3f4.chunk.js","sourcesContent":["var now = new Date();\r\n\r\nlet times = now.getFullYear().toString()+ '年' +\r\n(now.getMonth()+1).toString()+ '月' + \r\n now.getDate().toString() +'日'+\r\n now.getHours().toString() +'点'+\r\n now.getMinutes().toString() +'分'+\r\n now.getSeconds().toString()+'秒'\r\n// + (Math.round(Math.random()*899999999999-100000000000)).toString() +'毫毫毫毫毫毫毫秒'\r\n\r\n    \r\n\r\n\r\nexport default time => times","import React from 'react'\r\nimport '../assets/css/Detail.css'\r\n// import zan from '../assets/img/zan.png';\r\nimport {Icon} from 'antd';\r\nimport querystring from 'query-string'\r\nimport FormatDate from \"../utils/FormatDate\";\r\n\r\nimport {CHAN_IPTTXT, CHAN_COLLECTION,UPDATE_COLUMN,UPDATE_DETAIL} from \"../store/types\";\r\nimport connect from \"react-redux/es/connect/connect\";\r\nimport {collection,getDate} from \"../store/actions\";\r\n\r\nclass Detail extends React.Component{\r\n    constructor(props){\r\n      super();\r\n      this.state={\r\n        detail:{}\r\n      };\r\n      // React.axios({\r\n      //   url:`/api/${querystring.parse(props.location.search).dataName}/${props.match.params.id}`\r\n      // }).then(\r\n      //   res=>{\r\n      //     this.setState({detail:res.data.data})\r\n      //       console.log('decon',res)\r\n      //   }\r\n      // )\r\n\r\n      let id = props.match.params.id;\r\n      let dataName = querystring.parse(props.location.search).dataName;\r\n      props.getDetail(id, dataName)\r\n    }\r\n\r\n    render(){\r\n      // let {detail} = this.state;\r\n        let {detail} = this.props;\r\n        let bb = false;\r\n        // let shuju = 'adsfasdfas <span style=\"background:red\">dfasdf</span>  asfdasdfsdf';\r\n      return (\r\n        <div className=\"Detail\" style={{position:\"relative\"}}>\r\n         <p onClick={this.goback} style={{fontSize:\"0.5rem\"}}> <Icon type=\"import\" /></p>\r\n          {\r\n            detail.title && (\r\n              <div className=\"content\">\r\n                <h3>{detail.title}</h3>\r\n                <div className=\"header clear\"><h2><img src={detail.detail.icon} alt=\"\" style={{width:\"0.6rem\"}}/></h2><p>{detail.detail.auth}</p></div>\r\n                <div className=\"cont\">\r\n                  <div><img src={detail.picture} style={{width:\"100%\"}}/></div>\r\n                <div className=\"time\"><p style={{display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\",width:'3rem'}}>\r\n                  {FormatDate(detail.time)}\r\n                  <span>  \r\n                  {/* <img src={zan} alt=\"\"/> */}\r\n                  <Icon type=\"clock-circle\" theme=\"filled\" /> \r\n                  </span>\r\n                  </p>\r\n                  </div>\r\n                  <div\r\n                    className=\"text-box\"\r\n                    dangerouslySetInnerHTML={{__html:detail.detail.content }}\r\n                  >\r\n                  </div>\r\n                    <div style={{display:\"flex\",justifyContent:\"\",marginTop:\"0.5rem\",position:\"absolute\",bottom:\"0.1rem\"}}>\r\n                      <div className=\"zan1\"><Icon type=\"like\" theme=\"filled\" /><span>赞同{detail.detail.zan}</span> </div>\r\n                      <div className=\"zan2\"><Icon type=\"dislike\" theme=\"filled\" />{detail.detail.cai}</div>\r\n                      <div className=\"zan3\"><Icon type=\"message\" theme=\"filled\" /><span>评论{detail.detail.comNum}</span></div>\r\n                     \r\n                <div className=\"zan4\" name=\"收藏\" \r\n                    onClick={(event)=>{\r\n                      this.props.getCollection();this.collect(detail._id,event)  //;前后是两个事件\r\n                    }}\r\n                    ref=\"r1\"   \r\n                    > \r\n         {\r\n     this.props.column.forEach((atem,index,array)=>{\r\n       if(detail._id == array[index].goodsid){ return bb = true}  else{return bb = false}  })\r\n       } \r\n\r\n    { bb ? <Icon type=\"star\" theme=\"filled\" style={{color:\"yellow\"}}/> : <Icon type=\"star\" theme=\"filled\"/>}\r\n\r\n                    </div> \r\n                    </div>\r\n                </div>\r\n              </div>\r\n            )\r\n          }\r\n      </div>\r\n      )   \r\n    }\r\n\r\n    goback=()=>{\r\n      this.props.history.go(-1)\r\n    }\r\n\r\n    collect=(_id,ev)=>{\r\n\r\n      this.props.getCollection()\r\n      if(this.props.column.length == 0){\r\n        this.props.setCollection(_id)\r\n        //  console.log(\"first已收藏\")\r\n          ev.target.style.color = 'yellow'\r\n      }\r\n      else{\r\n  \r\n        var arr2 = []\r\n        this.props.column.forEach((item,index,array)=>{  \r\n          arr2.push(array[index].goodsid)\r\n      })\r\n        \r\n        if(arr2.indexOf(_id) == -1){   //-1表示没有 可以收藏 \r\n          this.props.setCollection(_id)\r\n        // ev.target.style.color = 'yellow' \r\n          alert(\"已收藏\")\r\n        }else {\r\n          this.props.removeCollection(_id)\r\n          // ev.target.style.color = ''\r\n            alert(\"已取消收藏\")\r\n        } \r\n  \r\n      } \r\n        this.props.getCollection()\r\n    } \r\n    componentDidMount(){\r\n      this.props.getCollection()\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n  const initMapStateToProps = state =>({\r\n    detail:state.detail,\r\n    collection:state.collection,\r\n    ipttxt:state.ipttxt,\r\n    column:state.column,\r\n    home:state.home,\r\n  })\r\n   \r\n\r\n \r\n   const initMapDispatchToProps = dispatch => ({\r\n    getDetail:(id,dataName)=>dispatch(getDate({\r\n      url:`/api/${dataName}`, \r\n      type:\"UPDATE_DETAIL\",\r\n      id:id\r\n    })),\r\n    setCollection:(_id)=>dispatch(\r\n      collection({\r\n      url:'/api/add',\r\n      type:CHAN_COLLECTION,\r\n      _id:_id,\r\n      num:1\r\n    })).then(res=>{\r\n      // console.log(\"11\",res.insertedIds[\"0\"])\r\n    }),\r\n  \r\n    removeCollection:(_id)=>dispatch(\r\n      collection({\r\n      url:'/api/ashan',\r\n      type:CHAN_COLLECTION,\r\n      _id:_id,\r\n    })),\r\n  \r\n   getCollection:()=>dispatch(getDate({\r\n      url:'/api/column',\r\n      type:UPDATE_COLUMN,\r\n      _limit:100\r\n    })),\r\n  });\r\n\r\n  export default connect(initMapStateToProps,initMapDispatchToProps)(Detail)","(function (doc, win) {\n     var docEl = doc.documentElement,\n          resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',\n          recalc    = function () {\n                 var clientWidth = docEl.clientWidth;\n                 if (clientWidth>=640) {\n                    clientWidth = 640;\n                 };\n                 if (!clientWidth) return;\n               docEl.style.fontSize = 100 * (clientWidth / 640) + 'px';\n          };\n          if (!doc.addEventListener) return;\n          win.addEventListener(resizeEvt, recalc, false);\n          doc.addEventListener('DOMContentLoaded', recalc, false);\n})(document, window);","import React from 'react';\r\n\r\n\r\nexport const getDate = ({url,id=null,type,_page=1,_limit=10}) => {\r\n\r\n  return (dispatch,getState)=>{\r\n    return React.axios({\r\n      url: id ? url + '/' + id : url,\r\n      params:{\r\n        _page, _limit\r\n      }\r\n    }).then(\r\n      res => {\r\n        dispatch({type: type, payload: res.data.data});\r\n        // console.log(res.data)\r\n      }\r\n    )\r\n  }\r\n};\r\n\r\nexport const authUser = ({\r\n  url,save=false,receipt=true,type,method='get',params={},data={}\r\n}) => {\r\n  return (dispatch,getState)=>{\r\n    return React.axios({\r\n  url: url,method, data: {...data,save}, params:{...params, save},\r\n    }).then(\r\n      res => {\r\n        dispatch({type: type, payload: res.data});\r\n       \r\n        if (receipt){\r\n          return res.data\r\n        }\r\n      }\r\n    )\r\n  }\r\n};\r\n\r\nexport const collection = ({url,_id=null,num=1,type}) => {\r\n\r\n  return (dispatch)=>{\r\n    return React.axios({\r\n      url,\r\n      params:{\r\n        _id,num\r\n      }\r\n    }).then(\r\n      res => {\r\n        dispatch({type:type, payload:res.data});\r\n        return  res.data;\r\n        // console.log(res.data)\r\n      }\r\n    )\r\n  }\r\n};\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Login_content__2PTFf\",\"fhbtn\":\"Login_fhbtn__3iCEU\",\"login\":\"Login_login__E3-m3\",\"login-box\":\"Login_login-box__36AB6\",\"lsolid\":\"Login_lsolid__2m-Kw\",\"rsolid\":\"Login_rsolid__1-A84\",\"lifirst\":\"Login_lifirst__1wq_z\",\"footbox\":\"Login_footbox__wfJCw\",\"login-btn\":\"Login_login-btn__1MZZk\",\"tishi\":\"Login_tishi__3LUUR\"};","import React from 'react'\r\nimport style from './Header.module.css'\r\nimport {NavLink} from 'react-router-dom'\r\nimport fetchJsonp from 'fetch-jsonp';\r\nimport { Input,Drawer, Button, Icon } from 'antd';\r\nconst { Search } = Input;\r\nimport store from '../store/store'\r\nimport connect from \"react-redux/es/connect/connect\";\r\nimport { UPDATE_HOME,UPDATE_SEARCH} from \"../store/types\";\r\nimport {getDate} from \"../store/actions\";\r\n\r\n\r\nclass Header extends React.Component{\r\n\r\n  constructor(props){\r\n    super()   \r\n  }\r\n\r\n  state = { \r\n    visible: false, \r\n    placement:'top',\r\n    ipttxt:\"\",\r\n    ipttxt2:\"\",\r\n    bl:false ,\r\n    bl2:false,\r\n    msg5:[],\r\n    msg3:\"抱歉，没有亲要的内容喔\",\r\n    msg4:[]\r\n   };\r\n  render(){\r\n    // let {home} = this.props\r\n    return (\r\n      <div className={style.nav}>\r\n        <ul onClick={this.changeBl}>  \r\n          <li><NavLink to=\"/home\" activeClassName={style.active}><Icon type=\"zhihu-circle\" theme=\"filled\" /></NavLink></li>\r\n          \r\n          <li>\r\n          <Search\r\n            placeholder=\"搜索\"\r\n            onSearch={\r\n              (value)=> {\r\n                //setState返回是异步的 需要注意\r\n              this.state.ipttxt2 = value\r\n\r\n              let {home,search} = this.props\r\n              let arr1 = []\r\n              let ipttxt2 = this.state.ipttxt2\r\n              // console.log(ipttxt2)\r\n              search.forEach((val,index) => {\r\n                  if(val.title.indexOf(ipttxt2) !== -1){\r\n                    arr1.push(val)\r\n                  }       \r\n             });\r\n                  // console.log(value)\r\n                  this.props.Search2(arr1)\r\n\r\n              }\r\n \r\n            }\r\n            style={{ width: 200,lineHeight:\"0.6rem\",marginTop:8}}\r\n            value={this.state.ipttxt} onChange={this.jsonp}\r\n            // onClick={this.search}\r\n           />\r\n           </li>\r\n\r\n        <li>\r\n            <Button type=\"primary\" onClick={this.showDrawer} style={{width: 20,lineHeight:\"0.4rem\",marginTop:10,marginLeft:160,background:\"none\",border:0,color:\"gray\",fontSize:\"0.36rem\",boxShadow:\"none\"}}>\r\n            <Icon type=\"menu\" />\r\n            </Button>\r\n            <Drawer\r\n              title={<Icon type=\"menu\" />}\r\n              placement={this.state.placement}\r\n              closable={true}\r\n\r\n              onClose={this.onClose}\r\n              visible={this.state.visible}\r\n              \r\n            >\r\n              <NavLink to=\"/home\"><p style={{fontSize:\"0.28rem\",color:\"gray\",marginBottom:\"0.5rem\"}} onClick={this.onClose}><Icon type=\"profile\"/> &nbsp; &nbsp;首页</p></NavLink>\r\n              <NavLink to=\"/user\"><p style={{fontSize:\"0.28rem\",color:\"gray\",marginBottom:\"0.5rem\"}} onClick={this.onClose}><Icon type=\"user\" /> &nbsp; &nbsp; 我的主页</p></NavLink>\r\n              <p onClick={this.logout} style={{fontSize:\"0.28rem\",color:\"gray\",marginBottom:\"0.5rem\"}}><Icon type=\"poweroff\" /> &nbsp; &nbsp;  退出账号</p>\r\n            </Drawer>\r\n        </li>\r\n\r\n        </ul>\r\n             {  \r\n               this.state.bl2 &&   \r\n               <ul className={style.shuju_haederUl} style={{}}>\r\n                   { this.state.msg4.map((value,index)=>(\r\n                     <li onClick={this.getMsg4} key={index}  style={{}} className={style.shuju_activeli} >{value}</li>\r\n                    ))}\r\n              </ul> \r\n            }\r\n         {/* {this.state.bl &&  <p>{this.state.msg3}</p>}      */}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.props.getSearch()\r\n  }\r\n\r\n  showDrawer = () => {\r\n    this.setState({\r\n      visible: true,\r\n    });\r\n  };\r\n\r\n  onClose = () => {\r\n    this.setState({\r\n      visible: false,\r\n    });\r\n  };\r\n\r\n  onChange = e => {\r\n    this.setState({\r\n      placement: e.target.value,\r\n    });\r\n  };\r\n\r\n  logout=()=>{\r\n    React.axios({\r\n      url: '/api/logout',\r\n      method: 'delete'\r\n    }).then(\r\n      res=>{\r\n        window.localStorage.removeItem('news_user');\r\n        store.dispatch({type:'CHECK_USER',payload:{err:1}});\r\n        // this.props.history.push('/home')\r\n      }\r\n    )\r\n    this.setState({\r\n      visible: false,\r\n    });\r\n  }\r\n\r\n  getMsg4=(ev)=>{\r\n    this.setState({ipttxt:ev.target.innerHTML})\r\n  }\r\n\r\n  changeBl=(ev)=>{\r\n    this.setState({\r\n      //  bl2:!this.state.bl2\r\n       bl2:false\r\n    })\r\n  }\r\n\r\n  jsonp=(ev)=>{\r\n    \r\n    this.setState({\r\n      ipttxt:ev.target.value\r\n    })\r\n    \r\n    if(ev.target.value.length > 0){\r\n      this.setState({\r\n        bl2:true\r\n      })\r\n    }else if (ev.target.value.length < 1){\r\n      this.setState({\r\n        bl2:false\r\n      })\r\n      this.props.getHome()\r\n    }\r\n    // console.log(this.state.ipttxt.length)\r\n\r\n    setTimeout(() => {\r\n      fetchJsonp(\r\n        `https://www.baidu.com/sugrec?prod=pc&wd=${this.state.ipttxt}&cb=show`,\r\n        {\r\n          jsonpCallback:'cb',\r\n          jsonpCallbackFunction:'show',\r\n          timeout:1000\r\n        }\r\n      ).then(\r\n        res=>res.json()\r\n      ).then(\r\n        data=>{\r\n         \r\n          if(!data.g){\r\n            this.setState({bl:true})\r\n            // this.refs.msg222.innerHTML  = \"亲，抱歉目前没有你搜索的内容\"\r\n          }else{\r\n            let arr1 = []\r\n            data.g.forEach((val,index) => {\r\n                arr1.push(val.q)\r\n             });\r\n          this.setState({bl:false,msg4:arr1}) \r\n  \r\n            }\r\n                }\r\n            ).catch(\r\n              err=>{console.log(err)}\r\n            )\r\n    }, 300);\r\n\r\n  }\r\n\r\n}\r\n\r\nconst initMapStateToProps = state => ({\r\n   home:state.home,\r\n   ipttxt:state.ipttxt,\r\n   search:state.search\r\n  // banner:state.banner,\r\n});\r\n\r\nconst initMapDispatchToProps = dispatch => ({\r\n  Search2:(arr1)=>{\r\n    //组件内部的异步业务\r\n    // console.log(\"dispatch\",arr1)\r\n    dispatch({type:UPDATE_HOME,payload:arr1})  \r\n  },\r\n  getHome:()=>dispatch(getDate({\r\n    url:'/api/home',\r\n    type:UPDATE_HOME,\r\n    _limit:13\r\n  })),\r\n  getSearch:()=>dispatch(getDate({\r\n    url:'/api/home',\r\n    type:UPDATE_SEARCH,\r\n    _limit:13\r\n  })),\r\n\r\n  \r\n});\r\n\r\nexport default connect(initMapStateToProps,initMapDispatchToProps)(Header)","import React from 'react'\r\nimport style from './Footer.module.css'\r\nimport {NavLink} from 'react-router-dom'\r\nimport { Icon, Tooltip } from 'antd';\r\n\r\n\r\nexport default class Footer extends React.Component{\r\n  render(){\r\n    return (\r\n      <div className={style['foot-btn']}>\r\n        <ul> \r\n           <li className={style.home}><NavLink to=\"/home\" activeClassName={\"home_active\"}><Icon type=\"hdd\" /></NavLink></li>\r\n           <Tooltip title=\"发布文章或回答\">\r\n            <li className={style.write}><NavLink to=\"/ErrorPage\" activeClassName={\"write_active\"}><Icon type=\"highlight\" /></NavLink></li>\r\n          </Tooltip>\r\n          <li className={style.my}><NavLink to=\"/user\" activeClassName={\"my_active\"}><Icon type=\"user\" /></NavLink></li>\r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n}","import React,{Component} from 'react';\r\n\r\nexport default function asyncComponent(importComponent) {\r\n\r\n  class AsyncComponent extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n        component: null\r\n      };\r\n    }\r\n\r\n    async componentDidMount() {\r\n      const { default: component } = await importComponent();\r\n\r\n      this.setState({\r\n        component: component\r\n      });\r\n\r\n      /*importComponent().then(\r\n        res=>this.setState({component:res.data.default})\r\n      )*/\r\n\r\n    }\r\n\r\n    render() {\r\n      const C = this.state.component;\r\n      return C ? <C {...this.props} /> : null;\r\n    }\r\n  }\r\n\r\n  return AsyncComponent;\r\n}","import React from 'react'\r\nimport '../assets/css/Follow.css'\r\nimport Cell from \"../components/Cell/Cell\";\r\nexport default class Follow extends React.Component{\r\n  state={\r\n    follow:[]\r\n  };\r\n\r\n  render(){\r\n    return (\r\n      <div className=\"Follow\">\r\n        <Cell list={this.state.follow} dataName=\"follow\"/>\r\n      </div>\r\n    )\r\n  }\r\n  componentDidMount(){\r\n    axios({\r\n      url:'/mock/follow',\r\n      params:{\r\n        _limit:8,\r\n        _page:1\r\n      }\r\n    }).then(\r\n      res=>this.setState({\r\n        follow:res.data.data\r\n      })\r\n    )\r\n  }\r\n}","import React from 'react'\r\nimport '../assets/css/Column.css'\r\nimport Cell from \"../components/Cell/Cell\";\r\nexport default class Column extends React.Component{\r\n  state={\r\n    column:[]\r\n  };\r\n  render(){\r\n    return (\r\n      <div className=\"Column\">\r\n        <Cell list={this.state.column} dataName=\"column\" isShowId={false}/>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  componentDidMount(){\r\n    axios({\r\n      url:'/mock/column',\r\n      params:{\r\n        _limit:6,\r\n        _page:1\r\n      }\r\n    }).then(\r\n      res=>this.setState({\r\n        column:res.data.data\r\n      })\r\n    )\r\n  }\r\n}","import React from 'react'\r\nimport '../assets/css/Login.module.css'\r\nimport {Link} from 'react-router-dom'\r\nimport { Icon } from 'antd';\r\n\r\nimport {authUser, getDate} from \"../store/actions\";\r\nimport {CHECK_USER, UPDATE_BANNER, UPDATE_HOME} from \"../store/types\";\r\nimport connect from \"react-redux/es/connect/connect\";\r\n\r\nclass Login extends React.Component{\r\n  state={\r\n    username:'',\r\n    password:'',\r\n    mess:''\r\n  };\r\n  render(){\r\n\r\n    let {username,password,async,bLoading,request} = this.props;\r\n    return (\r\n      <div className=\"content\" style={{background:\"url(/img/regbg.png) repeat\",width:\"100%\",height:\"11.4rem\",marginTop:\"0rem\"}}>\r\n      \r\n       <p > <a onClick={()=>this.props.history.go(-1)} style={{fontSize:\"0.38rem\",marginLeft:\"0.3rem\"}}> <Icon type=\"rollback\" /></a></p>\r\n        <h1><img src=\"https://pic4.zhimg.com/80/v2-a47051e92cf74930bedd7469978e6c08_hd.png\" style={{width:180,height:115}}/></h1>\r\n        <div className=\"login-box\">\r\n          <p className=\"lsolid\"></p>\r\n          <div className=\"login\">\r\n            <Link to={'/login'} style={{color:\"#5477b2\"}}>登录</Link>\r\n            {/*<a href=\"login_m.html\">登录</a>*/}\r\n            <span></span>\r\n            <Link to={'/reg'}>注册</Link>\r\n            {/*<a href=\"reg_m.html\">注册</a>*/}\r\n          </div>\r\n          <p className=\"rsolid\"></p>\r\n        </div>\r\n        <ul>\r\n          <li className=\"lifirst\">\r\n            <input type=\"text\"  name=\"username\" value={this.state.username} onChange={this.changeIpt}/>\r\n            <span>帐&nbsp;&nbsp;&nbsp;&nbsp; 号: &nbsp;</span>\r\n          </li>\r\n          <li>\r\n            <input type=\"text\"  name=\"password\"  value={this.state.password} onChange={this.changeIpt}/>\r\n            <span>密&nbsp;&nbsp;&nbsp;&nbsp; 码: &nbsp;</span>\r\n          </li>\r\n          {\r\n            this.state.mess && <li>{this.state.mess}</li>\r\n          }\r\n\r\n        </ul>\r\n        <div className=\"footbox\">\r\n          <input type=\"button\" value=\"登 录\" className=\"login-btn\" onClick={this.login}/>\r\n        \r\n          <a className=\"tishi\">忘记密码？</a>\r\n        </div>\r\n\r\n      </div>\r\n    )\r\n  }\r\n\r\n  changeIpt=(ev)=>{\r\n    this.setState({\r\n      [ev.target.name]:ev.target.value\r\n    })\r\n  };\r\n\r\n  login=()=>{\r\n  //   axios({\r\n  //     url:'/mock/login',\r\n  //     params:{\r\n  //       username:this.state.username,\r\n  //       password:this.state.password\r\n  //     }\r\n  //   }).then(\r\n  //     res=>res.data.err===0 ? this.props.history.push('/user') : this.setState({mess:res.data.msg})\r\n  //   )\r\n \r\n  this.props.login(this.state.username, this.state.password,this.props.history)\r\n  }\r\n   \r\n\r\n}\r\n\r\n\r\n\r\n\r\nconst initMapDispatchToProps = dispatch => ({\r\n  login:(username,password,history)=>dispatch(authUser({\r\n    url:'/api/login',\r\n    save:true,\r\n    type:CHECK_USER,\r\n    method:'post',\r\n    data:{\r\n      username,password\r\n    }\r\n  })).then(\r\n    res=>{\r\n      if (res.err===0){\r\n        //同步\r\n      \r\n        window.localStorage.setItem('news_user',JSON.stringify(res));\r\n        history.push('/user');\r\n      } else {\r\n      alert(\"用户名或密码有误\")\r\n      }\r\n    }\r\n  )\r\n});\r\n\r\n\r\n\r\n\r\nexport default connect(null,initMapDispatchToProps)(Login)","import React from 'react'\r\nimport '../assets/css/Reg.css'\r\nimport {Link} from \"react-router-dom\";\r\nimport { Icon } from 'antd';\r\n\r\n\r\nimport {authUser} from \"../store/actions\";\r\nimport {CHECK_USER} from \"../store/types\";\r\nimport connect from \"react-redux/es/connect/connect\";\r\n\r\nclass Reg extends React.Component{\r\n\r\n  state={\r\n    username:'',\r\n    password:'',\r\n    mess:''\r\n  };\r\n \r\n  render(){\r\n    return (\r\n      <div className=\"content\" style={{background:\"url(/img/regbg.png) repeat\",width:\"100%\",height:\"11.4rem\",marginTop:\"0rem\"}}>\r\n        <p > <a onClick={()=>this.props.history.go(-1)} style={{fontSize:\"0.38rem\",marginLeft:\"0.3rem\"}}> <Icon type=\"rollback\" /></a></p>\r\n        <h1><img src=\"https://pic4.zhimg.com/80/v2-a47051e92cf74930bedd7469978e6c08_hd.png\" style={{width:180,height:115}}/></h1>\r\n        \r\n        <div className=\"login-box\">\r\n          <p className=\"lsolid\"></p>\r\n          <div className=\"login\">\r\n            <Link to={'/login'} style={{background:\"\"}}>登录</Link>\r\n            {/*<a href=\"login_m.html\">登录</a>*/}\r\n            <span></span>\r\n            <Link to={'/reg'} style={{color:\"#5477b2\"}}>注册</Link>\r\n            {/*<a href=\"reg_m.html\">注册</a>*/}\r\n          </div>\r\n          <p className=\"rsolid\"></p>\r\n        </div>\r\n        <ul>\r\n          <li className=\"lifirst\">\r\n            <input type=\"text\"  name=\"username\" value={this.state.username} onChange={this.changeIpt}/>\r\n            <span>帐&nbsp;&nbsp;&nbsp;&nbsp; 号: &nbsp;</span>\r\n          </li>\r\n          <li>\r\n            <input type=\"text\"  name=\"password\"  value={this.state.password} onChange={this.changeIpt}/>\r\n            <span>密&nbsp;&nbsp;&nbsp;&nbsp; 码: &nbsp;</span>\r\n          </li>\r\n          {\r\n            this.state.mess && <li>{this.state.mess}</li>\r\n          }\r\n        </ul>\r\n        <div className=\"footbox\">\r\n          <input type=\"button\" value=\"注 册\" className=\"login-btn\" onClick={this.reg}/>\r\n          <a  className=\"tishi\">忘记密码？</a>  \r\n        </div>\r\n      </div>\r\n\r\n    )\r\n  }\r\n\r\n  changeIpt=(ev)=>{\r\n    this.setState({\r\n      [ev.target.name]:ev.target.value\r\n    })\r\n  };\r\n\r\n  reg=()=>{\r\n    // axios({\r\n    //   url:'/mock/reg',\r\n    //   method:'post',\r\n    //   data:{\r\n    //     username:this.state.username,\r\n    //     password:this.state.password\r\n    //   }\r\n    // }).then(\r\n    //   res=>res.data.err===0 ? this.props.history.push('/login') : this.setState({mess:res.data.msg})\r\n    // )\r\n    this.props.reg(this.state.username, this.state.password,this.props.history)\r\n  }\r\n}\r\n\r\n\r\n\r\nconst initMapDispatchToProps = dispatch => ({\r\n  reg:(username,password,history)=>dispatch(authUser({\r\n    url:'/api/reg',\r\n    save:true,\r\n    type:CHECK_USER,\r\n    method:'post',\r\n    data:{\r\n      username,password\r\n    }\r\n  })).then(\r\n    res=>{\r\n      // console.log(res)\r\n      if (res.err===0){\r\n        //同步\r\n        // window.localStorage.setItem('news_user',JSON.stringify(res));\r\n        history.push('/login');\r\n      } else {\r\n          console.log(res.err)\r\n      }\r\n    }\r\n  )\r\n});\r\n\r\n\r\n\r\n\r\nexport default connect(null,initMapDispatchToProps)(Reg)","import React from 'react'\r\nimport '../assets/css/ErrorPage.css'\r\nexport default class ErrorPage extends React.Component{\r\n    constructor(props){\r\n      super()\r\n    }\r\n  render(){\r\n    return (\r\n      <div className=\"ErrorPage\">\r\n        <h3>ErrorPage</h3>\r\n        \r\n        {/* <a href=\"javascript:window.history.go(-1);\">←</a> */}\r\n        <a onClick={this.goback}>←</a>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  goback=()=>{\r\n    this.props.history.go(-1)\r\n  }\r\n}","import React from 'react';\r\nimport {Route,Redirect} from 'react-router-dom'\r\nimport connect from \"react-redux/es/connect/connect\";\r\n// class Auth extends React.Component{\r\n//   state={\r\n//     hasAuth:false,\r\n//     auth:false,\r\n//     data:{}\r\n//   };\r\n//   componentDidMount(){\r\n//     axios(\r\n//       '/mock/user'\r\n//     ).then(\r\n//       res=>this.setState({\r\n//         hasAuth:true,\r\n//         auth:res.data.err,\r\n//         data:res.data.data\r\n//       })\r\n//     )\r\n//   }\r\n\r\n//   render(){\r\n//     let {component:Component} = this.props; // component == User类\r\n//     // 异步条件\r\n//     if (!this.state.hasAuth ){\r\n//       return null;\r\n//     }\r\n//     return <Route  render={(props)=>(\r\n//       this.state.auth===0 ? <Component data={this.state.data} {...props} /> : <Redirect to=\"/login\"/>\r\n//     )} />\r\n//   }\r\n\r\n// }\r\n\r\n\r\nconst Auth = ({component:Component,user, ...rest}) => (\r\n  <Route render={(rest)=>(\r\n    user.err === 0 ?\r\n      <Component {...rest} /> :\r\n      <Redirect to=\"/login\" />\r\n  )}/>\r\n);\r\n\r\nconst initMapStateToProps = state => ({\r\n  user:state.user\r\n});\r\n\r\nexport default connect(initMapStateToProps,null)(Auth)\r\n\r\n","import React from 'react'\r\nimport './App.css';\r\nimport {withRouter,Route,Switch,Redirect} from 'react-router-dom'\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\n\r\n// import Home from \"../pages/Home\";\r\nimport Loadable from 'react-loadable' //async懒加载  减轻首页压力 \r\nconst Home = Loadable({\r\n  loader:()=>import('../pages/Home'),\r\n  loading:()=>{return null}\r\n})\r\n\r\n// import User from \"../pages/User\";\r\nimport asyncComponent from '../utils/asyncComponent'\r\nconst User = asyncComponent(() => import('../pages/User'))\r\n\r\nimport Follow from \"../pages/Follow\";\r\nimport Column from \"../pages/Column\";\r\nimport Login from \"../pages/Login\";\r\nimport Reg from \"../pages/Reg\";\r\nimport ErrorPage from \"../pages/ErrorPage\";\r\nimport Detail from \"../pages/Detail\";\r\n\r\nimport Auth from \"../guard/Auth\";\r\nimport { Skeleton } from 'antd';\r\n// import pubsub from 'pubsub-js';\r\nimport {connect} from 'react-redux';\r\nimport {VIEW_FOOT, VIEW_LOADING, VIEW_NAV} from \"../store/types\";\r\n\r\n\r\n\r\nclass App extends React.Component{\r\n  // constructor(props){\r\n  //   super()\r\n  //   this.state={\r\n  //     bNav:true,\r\n  //     bFoot:true,\r\n  //     bLoading:false\r\n  //   };\r\n  //     //订阅\r\n  //   pubsub.subscribe('VIEW_LOADING',(msg,data)=>{\r\n  //     this.setState({bLoading:data})\r\n  //   });\r\n  // }\r\n\r\n  state={};\r\n  static getDerivedStateFromProps(nextProps, nextState){//路由检测\r\n    let {viewNav,viewFoot} = nextProps;    \r\n    let path = nextProps.location.pathname;\r\n    if (/home|follow|column/.test(path)){\r\n      viewNav(true)\r\n      viewFoot(true)\r\n    }\r\n    if (/user|ErrorPage/.test(path)){\r\n      viewNav(false)\r\n      viewFoot(true)\r\n    }\r\n    // if (/s/.test(path)){\r\n    //   viewNav(true)\r\n    //   viewFoot(false)\r\n    // }\r\n    if (/login|reg|detail/.test(path)){\r\n      viewNav(false)\r\n      viewFoot(false)\r\n    }\r\n    return null\r\n  }\r\n\r\n  mounted(){\r\n    import('../pages/Detail.js').then(\r\n      res=>console.log(res)\r\n    )\r\n  }\r\n\r\n  render(){\r\n    let {bLoading,bNav,bFoot} = this.props;\r\n    return (\r\n      <div className=\"app\">\r\n      {bNav && <Header/>}\r\n        <Switch>\r\n          <Route path={'/home'} component={Home} /> \r\n          <Route path={'/follow'} component={Follow} />\r\n          <Route path={'/column'} component={Column} />\r\n          {/* <Route path={'/user'} component={User} /> */}\r\n          <Auth path={'/user'} component={User} />\r\n          <Route path={'/login'} component={Login} />\r\n          <Route path={'/reg'} component={Reg} />\r\n          <Route path={'/detail/:id'} component={Detail} />\r\n          <Redirect exact from=\"/\" to=\"/home\" />\r\n          <Route component={ErrorPage}/>\r\n        </Switch>\r\n        {bLoading && <Skeleton active />}\r\n        {bLoading && <Skeleton active />}\r\n        {bFoot ? <Footer/> : null}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst initMapStateToProps = state => ({\r\n  bLoading:state.bLoading,\r\n  bNav:state.bNav,\r\n  bFoot:state.bFoot\r\n});\r\n\r\nconst initMapDispatchToProps = dispatch => ({\r\n  viewNav:(bl)=>dispatch({type:VIEW_NAV,payload:bl}),\r\n  viewFoot:(bl)=>dispatch({type:VIEW_FOOT,payload:bl}),\r\n  viewLoading:(bl)=>dispatch({type:VIEW_LOADING,payload:bl}),\r\n});\r\n\r\nexport default connect(initMapStateToProps,initMapDispatchToProps)(withRouter(App))","import React from 'react';\r\nimport axios from 'axios';\r\nimport store from '../store/store';\r\n\r\naxios.defaults.withCredentials=true;//整体携带跨源凭证\r\n\r\nimport pubsub from 'pubsub-js';\r\n\r\n//拦截器\r\naxios.interceptors.request.use(function (config) {\r\n  // console.log('拦截器 request before');\r\n  //添加公共请求头  token key：value\r\n  store.dispatch({type:'VIEW_LOADING',payload:true})\r\n\r\n  // pubsub.publish('VIEW_LOADING',true);\r\n\r\n  return config;\r\n}, function (error) {\r\n  return Promise.reject(error);\r\n}); \r\n\r\naxios.interceptors.response.use(function (response) {\r\n  // console.log('拦截器 response before')\r\n  // store.dispatch('VIEW_LOADING',false)\r\n  // pubsub.publish('VIEW_LOADING',false);\r\n  store.dispatch({type:'VIEW_LOADING',payload:false})\r\n\r\n  return response;\r\n}, function (error) {\r\n  return Promise.reject(error);\r\n});\r\n\r\nReact.axios=axios;\r\nwindow.axios=axios;\r\n\r\nexport default axios;\r\n","import React from 'react';\r\nimport ReactDom,{render} from 'react-dom';\r\nimport './assets/css/base.css'\r\nimport './library/font'\r\n// import {BrowserRouter} from 'react-router-dom'\r\nimport { HashRouter } from 'react-router-dom'\r\nimport App from \"./layouts/App\";\r\nimport './utils/axios';\r\n\r\n//引入 ant UI \r\nimport 'antd/dist/antd.css';\r\nimport 'antd-mobile/dist/antd-mobile.css';\r\n\r\nimport store from \"./store/store\";\r\nimport {Provider} from 'react-redux'\r\n\r\nlet local = window.localStorage.getItem('news_user');\r\nif (local){\r\n  store.dispatch({type:'CHECK_USER',payload:JSON.parse(local)})\r\n}\r\n\r\nrender( \r\n  <Provider store={store}>\r\n     <HashRouter>\r\n       <App />\r\n     </HashRouter>\r\n  </Provider>\r\n  ,\r\n  document.getElementById('root')\r\n);","export const VIEW_LOADING = 'VIEW_LOADING';\r\nexport const VIEW_NAV = 'VIEW_NAV';\r\nexport const VIEW_FOOT = 'VIEW_FOOT';\r\n\r\nexport const UPDATE_HOME = 'UPDATE_HOME';\r\nexport const UPDATE_SEARCH = 'UPDATE_SEARCH';\r\n// export const UPDATE_FOLLOW = 'UPDATE_FOLLOW';\r\nexport const UPDATE_COLUMN = 'UPDATE_COLUMN';\r\nexport const UPDATE_BANNER = 'UPDATE_BANNER';\r\nexport const UPDATE_DETAIL = 'UPDATE_DETAIL';\r\n\r\nexport const CHECK_USER = 'CHECK_USER';\r\n\r\nexport const CHAN_IPTTXT = 'CHAN_IPTTXT';\r\nexport const CHAN_COLLECTION = 'CHAN_COLLECTION';\r\n\r\n\r\n\r\n","//reducer 改，获取state 必须要有返回值\r\nimport * as types from './types'\r\nexport default (state,{type,payload})=>{\r\n\r\n  // console.log('reducer1',state);\r\n\r\n\r\n  switch (type) {\r\n    case types.VIEW_NAV:\r\n      return {...state,bNav:payload};\r\n    case types.VIEW_FOOT:\r\n      return {...state,bFoot:payload};\r\n      //处理同步，数据整理，解析\r\n    case types.UPDATE_COLUMN:\r\n      return {...state,column:payload};\r\n      \r\n    case types.UPDATE_HOME:\r\n      return {...state,home:payload};\r\n    case types.UPDATE_SEARCH:\r\n      return {...state,search:payload};\r\n    case types.UPDATE_BANNER:\r\n      return {...state,banner:payload};\r\n    case types.VIEW_LOADING:\r\n      return {...state,bLoading:payload};\r\n    case types.CHECK_USER:\r\n      return {...state,user:payload};\r\n    case types.UPDATE_DETAIL:\r\n      return {...state,detail:payload};\r\n    case types.CHAN_IPTTXT:\r\n      return {...state,ipttxt:payload};\r\n    case types.CHAN_COLLECTION:\r\n      return {...state,collection:payload};\r\n    \r\n\r\n\r\n    default:\r\n      return state\r\n\r\n  }\r\n}","import {createStore,applyMiddleware} from 'redux';\r\n\r\nimport state from './state';\r\nimport reducer from './reducer';\r\nimport thunk from 'redux-thunk'\r\n\r\n//创建store实例\r\n// let store = createStore(reducer,state,中间件1,中间件2);\r\nlet store = createStore(reducer,state,applyMiddleware(thunk));\r\n\r\nexport default store; ","export default { \r\n    username:\"\",\r\n    password:\"\",\r\n    ipttxt:false,\r\n    \r\n    bNav:false,\r\n    bFoot:true,\r\n    bLoading:false,\r\n  \r\n    home:[],\r\n    search:[],\r\n    // follow:[],\r\n    column:[],\r\n    banner:[],\r\n    collection:[],\r\n  \r\n    detail:{},\r\n  \r\n    user:{\r\n      err:1\r\n    }\r\n  }\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Header_nav__1Te4-\",\"active\":\"Header_active__2oJ2Q\",\"shuju_haederUl\":\"Header_shuju_haederUl__1x9Wg\",\"shuju_activeli\":\"Header_shuju_activeli__2O-c-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"foot-btn\":\"Footer_foot-btn__37tFl\",\"home\":\"Footer_home__2USAb\",\"write\":\"Footer_write__2rmJk\",\"my\":\"Footer_my__3Jklf\",\"active\":\"Footer_active__1m9SS\"};","import React from 'react'\r\nimport './assets/css/Cell.css'\r\nimport {Link} from 'react-router-dom'\r\nimport querystring from 'query-string'\r\nimport { Collapse,Icon } from 'antd';\r\n\r\n\r\nimport {CHAN_IPTTXT, CHAN_COLLECTION,UPDATE_COLUMN} from \"../../store/types\";\r\nimport connect from \"react-redux/es/connect/connect\";\r\nimport {collection,getDate} from \"../../store/actions\";\r\n\r\nconst { Panel } = Collapse;\r\n\r\n\r\n\r\n\r\n class Cell extends React.Component{\r\n\r\n  state={\r\n    bl:true\r\n  }\r\n\r\n  constructor(props){\r\n    super(...arguments)\r\n    \r\n    props.getCollection()\r\n    // console.log(\"constructor\",props)\r\n  }\r\n\r\n\r\n  render(){\r\n    // console.log('cc2333',this.props.column)\r\n    let {list,dataName,isShowId,setCollection,ipttxt,column} = this.props;\r\n        let bb = false\r\n      // console.log(this.props)\r\n      // let arr2 = []\r\n     \r\n    //   this.props.column.forEach((item,index,array)=>{  \r\n    //     arr2.push(array[index].goodsid)\r\n    // })\r\n    // let arr1 = []\r\n    // this.props.home.forEach((item,index,array)=>{  \r\n    //     arr1.push(array[index]._id)\r\n    // })\r\n\r\n\r\n    \r\n\r\n    return (\r\n      <div className=\"Cell\">\r\n     {  isShowId ?  \r\n         \r\n          list.map(item=>(\r\n           \r\n            <div   key={item._id} style={{borderBottom:\"0.2rem solid rgba(230, 230, 230, 0.582)\",padding:\"0.2rem 0.2rem\"}}>\r\n               <h2>{item.title}</h2>\r\n            <Link\r\n       to={{pathname:'/detail/'+item._id,search:querystring.stringify({dataName})}}\r\n              key={item._id}\r\n            >                   \r\n             <img src={item.picture} style={{width:\"100%\",height:\"3rem\"}}/>\r\n            \r\n             <p className='content'>{item.detail.content}</p>\r\n             </Link>\r\n          \r\n              <div style={{display:\"flex\",justifyContent:\"\",marginTop:\"0.1rem\"}}>\r\n                <div className=\"zan1\"><Icon type=\"like\" theme=\"filled\" /><span>赞同{item.detail.zan}</span> </div>\r\n                <div className=\"zan2\"><Icon type=\"dislike\" theme=\"filled\" />{item.detail.cai}</div>\r\n                <div className=\"zan3\"><Icon type=\"message\" theme=\"filled\" /><span>评论{item.detail.comNum}</span></div>\r\n               \r\n                <div className=\"zan4\" name=\"收藏\" \r\n                    onClick={(event)=>{\r\n                      this.props.getCollection();this.collect(item._id,event)  //;前后是两个事件\r\n                    }}\r\n                    ref=\"r1\"   \r\n                    > \r\n         {\r\n     this.props.column.forEach((atem,index,array)=>{\r\n       if(item._id == array[index].goodsid){ return bb = true}  else{return bb = false}  })\r\n       } \r\n\r\n    { bb ? <Icon type=\"star\" theme=\"filled\" style={{color:\"yellow\"}}/> : <Icon type=\"star\" theme=\"filled\"/>}\r\n\r\n                    </div> \r\n              </div>\r\n            </div>\r\n          ))\r\n              :  \r\n                    <Collapse bordered={false} expandIconPosition=\"right\">\r\n                      {\r\n                    list.map(item=>(\r\n              \r\n                              <Panel header={item.title} key={item.id}>\r\n                                  <Link\r\n                                  to={{pathname:'/detail/'+item._id,search:querystring.stringify({dataName})}}\r\n                                  key={item.id}\r\n                                >\r\n                                <img src={item.picture} style={{width:\"100%\",height:\"3rem\"}}/>\r\n                                {item.des}\r\n                                  </Link>\r\n              \r\n                              </Panel>\r\n                          \r\n                      ))\r\n                    }\r\n                    </Collapse> \r\n      \r\n      }\r\n\r\n      </div>\r\n    )\r\n  }\r\n\r\n  collect=(_id,ev)=>{\r\n\r\n    this.props.getCollection()\r\n    if(this.props.column.length == 0){\r\n      this.props.setCollection(_id)\r\n      //  console.log(\"first已收藏\")\r\n        ev.target.style.color = 'yellow'\r\n    }\r\n    else{\r\n\r\n      var arr2 = []\r\n      this.props.column.forEach((item,index,array)=>{  \r\n        arr2.push(array[index].goodsid)\r\n    })\r\n      \r\n      if(arr2.indexOf(_id) == -1){   //-1表示没有 可以收藏 \r\n        this.props.setCollection(_id)\r\n        // console.log(\"已收藏\",arr2,_id)\r\n      ev.target.style.color = 'yellow' \r\n        alert(\"已收藏\")\r\n      }else {\r\n        this.props.removeCollection(_id)\r\n        // console.log(\"已删除\",arr2,_id)\r\n        ev.target.style.color = ''\r\n          alert(\"已取消收藏\")\r\n      } \r\n\r\n    } \r\n      this.props.getCollection()\r\n      // console.log('column',this.props.column)\r\n  } \r\n \r\n\r\n  componentDidMount(){\r\n    this.props.getCollection()\r\n     //  console.log('cc1',this)\r\n    //   console.log('cc2',this.props)\r\n      \r\n  }\r\n  \r\n}\r\n\r\n\r\nCell.defaultProps={\r\n  isShowId:false\r\n};\r\n\r\n\r\nconst initMapStateToProps = state => ({\r\n  collection:state.collection,\r\n  ipttxt:state.ipttxt,\r\n  column:state.column,\r\n  home:state.home,\r\n});\r\n\r\nconst initMapDispatchToProps = dispatch => ({\r\n  \r\n  setCollection:(_id)=>dispatch(\r\n    collection({\r\n    url:'/api/add',\r\n    type:CHAN_COLLECTION,\r\n    _id:_id,\r\n    num:1\r\n  })).then(res=>{\r\n    // console.log(\"11\",res.insertedIds[\"0\"])\r\n  }),\r\n\r\n  removeCollection:(_id)=>dispatch(\r\n    collection({\r\n    url:'/api/ashan',\r\n    type:CHAN_COLLECTION,\r\n    _id:_id,\r\n  })),\r\n\r\n getCollection:()=>dispatch(getDate({\r\n    url:'/api/column',\r\n    type:UPDATE_COLUMN,\r\n    _limit:100\r\n  })),\r\n  viewIpttxt:(bl)=>dispatch({type:CHAN_IPTTXT,payload:bl}),\r\n});\r\n\r\nexport default connect(initMapStateToProps,initMapDispatchToProps)(Cell)"],"sourceRoot":""}